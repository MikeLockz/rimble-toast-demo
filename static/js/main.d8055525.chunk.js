(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(t,e,n){t.exports=n(322)},138:function(t,e,n){},140:function(t,e,n){},176:function(t,e){},178:function(t,e){},203:function(t,e){},246:function(t,e){},322:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(43),c=n.n(r),s=(n(138),n(69)),i=n(44),u=n(45),l=n(47),m=n(46),d=n(48),p=(n(140),n(7)),f=n(130),h=n.n(f),b=(n(131),n(68),o.a.Component,function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(o)))).state={contract:{},account:{},value:0,error:null,transactionList:[]},n.initContract=function(){var t=new h.a(window.web3.currentProvider);console.log("creating contract");var e=new t.eth.Contract([{constant:!1,inputs:[],name:"decrementCounter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"incrementCounter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"reset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[],name:"getCounter",outputs:[{name:"",type:"int256"}],payable:!1,stateMutability:"view",type:"function"}],"0x0f69f0ac4b92bf0d101b5747eed3fa6b653a36f8");console.log(e),n.setState({contract:e},function(){t.eth.getAccounts().then(function(t){n.setState({account:t[0]},function(){console.log(n.state),n.getNumber()})})})},n.getNumber=function(){var t=n.state,e=t.contract;t.account;e.methods.getCounter().call().then(function(t){t=Number(t.toString()),n.setState({value:t})}).catch(function(t){n.setState({error:t})})},n.resetCounter=function(){n.contractMethodSendWrapper("reset")},n.incrementCounter=function(){n.contractMethodSendWrapper("incrementCounter")},n.decrementCounter=function(){n.contractMethodSendWrapper("decrementCounter")},n.addTransaction=function(t){var e={};e.lastUpdated=Date.now(),e=Object(s.a)({},e,t),n.state.transactionList.push(e),n.setState({transactionList:n.state.transactionList});var a=n.getTransactionToastMeta(e);window.toastProvider.addMessage("Not sure where this appears...",a)},n.getTransactionToastMeta=function(t){var e={},n=t.status,a=t.transactionHash;switch(n){case"started":e={message:"Started a new transaction",actionHref:"",actionText:"",variant:"default"};break;case"pending":e={message:"Transaction is pending",actionHref:"",actionText:"",variant:"processing"};break;case"confirmed":e={message:"Transaction is confirmed",actionHref:"https://etherscan.io/tx/"+a,actionText:"View on Etherscan",variant:"success"};break;case"success":e={message:"Transaction completed successfully",actionHref:"https://etherscan.io/tx/"+a,actionText:"View on Etherscan",variant:"success"};break;case"error":e={message:"Error",actionHref:"https://etherscan.io/tx/"+a,actionText:"View on Etherscan",variant:"error"}}return e},n.contractMethodSendWrapper=function(t){var e={};e.created=Date.now(),console.log("Starting Transaction"),e.status="started",n.addTransaction(e);var a=n.state,o=a.contract,r=a.account;o.methods[t]().send({from:r}).on("transactionHash",function(t){console.log("Transaction sent to block successfully. Result pending."),e.status="pending",n.addTransaction(e)}).on("confirmation",function(t,a){t>0||(console.log("receipt: ",a),e=Object(s.a)({},e,a),console.log("Transaction confirmed."),e.status="confirmed",n.addTransaction(e),!0===a.status?(console.log("Transaction completed successfully!"),e.status="success"):!1===a.status&&(console.log("Transaction reverted due to error."),e.status="error"),n.addTransaction(e))}).on("receipt",function(t){console.log("receipt: ",t),n.getNumber()}).on("error",function(t){console.log(t)})},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.initContract()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p.a,{my:"auto"},o.a.createElement(p.c,{width:"400px",mx:"auto",px:4},o.a.createElement(p.e.h1,{fontSize:5,textAlign:"center",px:4,mb:5},"Smart Contract Toast Example"),o.a.createElement(p.a,null,o.a.createElement(p.a,{py:4},o.a.createElement(p.g,{mb:2,fontSize:3},"Value from smart contract:"),o.a.createElement(p.g,{fontSize:6,textAlign:"center"},this.state.value)),o.a.createElement(p.d,{px:0,pt:4,borderTop:1,borderColor:"#E8E8E8",justifyContent:"space-between"},o.a.createElement(p.f,{size:"medium",onClick:this.resetCounter,mr:4},"Reset"),o.a.createElement(p.f,{size:"medium",onClick:this.incrementCounter,mr:4},"Increment"),o.a.createElement(p.f,{size:"medium",onClick:this.decrementCounter},"Decrement")),o.a.createElement(p.d,{mt:4,justifyContent:"flex-end"},o.a.createElement(p.b,{size:"medium",onClick:this.getNumber},"Get Number")))),o.a.createElement(p.h.Container,{ref:function(t){window.toastProvider=t}})))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[133,2,1]]]);
//# sourceMappingURL=main.d8055525.chunk.js.map