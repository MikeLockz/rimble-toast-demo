(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(t,e,n){t.exports=n(322)},138:function(t,e,n){},140:function(t,e,n){},176:function(t,e){},178:function(t,e){},203:function(t,e){},246:function(t,e){},322:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(43),c=n.n(r),i=(n(138),n(69)),s=n(44),l=n(45),u=n(47),m=n(46),d=n(48),p=(n(140),n(5)),f=n(130),b=n.n(f),h=n(131),E=n(68),g=n.n(E),y=function(t){var e=t.transactionList,n={overflow:"hidden",textOverflow:"ellipsis",listStyle:"none",marginLeft:0,paddingLeft:0};return o.a.createElement(p.a,{pb:4},Object.entries(e).map(function(t,e){var a=Object(h.a)(t,2),r=(a[0],a[1]);return o.a.createElement(p.a,{borderBottom:1,borderColor:"#E8E8E8",key:e},o.a.createElement("ul",{style:n},o.a.createElement("li",null,"created: ",o.a.createElement(g.a,{date:r.created})),o.a.createElement("li",null,"status: ",r.status),r.lastUpdated&&o.a.createElement("li",null,"updated: ",o.a.createElement(g.a,{date:r.lastUpdated})),r.transactionHash&&o.a.createElement("li",null,"hash: ",r.transactionHash),r.transactionIndex&&o.a.createElement("li",null,"confirmations: ",r.transactionIndex)))}))},w=(o.a.Component,function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(o)))).state={contract:{},account:{},value:0,error:null,transactionList:[]},n.initContract=function(){var t=new b.a(window.web3.currentProvider);console.log("creating contract");var e=new t.eth.Contract([{constant:!1,inputs:[],name:"decrementCounter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"incrementCounter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"reset",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!0,inputs:[],name:"getCounter",outputs:[{name:"",type:"int256"}],payable:!1,stateMutability:"view",type:"function"}],"0x0f69f0ac4b92bf0d101b5747eed3fa6b653a36f8");console.log(e),n.setState({contract:e},function(){t.eth.getAccounts().then(function(t){n.setState({account:t[0]},function(){console.log(n.state),n.getNumber()})})})},n.getNumber=function(){var t=n.state,e=t.contract;t.account;e.methods.getCounter().call().then(function(t){t=Number(t.toString()),n.setState({value:t})}).catch(function(t){n.setState({error:t})})},n.resetCounter=function(){n.contractMethodSendWrapper("reset")},n.incrementCounter=function(){n.contractMethodSendWrapper("incrementCounter")},n.decrementCounter=function(){n.contractMethodSendWrapper("decrementCounter")},n.addTransaction=function(t){var e={};e.lastUpdated=Date.now(),e=Object(i.a)({},e,t),n.state.transactionList.push(e),n.setState({transactionList:n.state.transactionList})},n.contractMethodSendWrapper=function(t){var e={};e.created=Date.now(),console.log("Starting Transaction"),e.status="Started",n.addTransaction(e);var a=n.state,o=a.contract,r=a.account;o.methods[t]().send({from:r}).on("transactionHash",function(t){console.log("Transaction sent to block successfully. Result pending."),e.status="Pending",n.addTransaction(e)}).on("confirmation",function(t,a){t>0||(console.log("receipt: ",a),e=Object(i.a)({},e,a),console.log("Transaction confirmed."),e.status="Confirmed",n.addTransaction(e),!0===a.status?(console.log("Transaction completed successfully!"),e.status="Success"):!1===a.status&&(console.log("Transaction reverted due to error."),e.status="Error"),n.addTransaction(e))}).on("receipt",function(t){console.log("receipt: ",t),n.getNumber()}).on("error",function(t){console.log(t)})},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.initContract()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(p.a,{my:"auto"},o.a.createElement(p.c,{width:"400px",mx:"auto",px:4},o.a.createElement(p.e.h1,{fontSize:5,textAlign:"center",px:4,mb:5},"Smart Contract Toast Example"),o.a.createElement(p.a,null,o.a.createElement(p.a,{py:4},o.a.createElement(p.g,{mb:2,fontSize:3},"Value from smart contract:"),o.a.createElement(p.g,{fontSize:6,textAlign:"center"},this.state.value)),o.a.createElement(p.d,{px:0,pt:4,borderTop:1,borderColor:"#E8E8E8",justifyContent:"space-between"},o.a.createElement(p.f,{size:"medium",onClick:this.resetCounter,mr:4},"Reset"),o.a.createElement(p.f,{size:"medium",onClick:this.incrementCounter,mr:4},"Increment"),o.a.createElement(p.f,{size:"medium",onClick:this.decrementCounter},"Decrement")),o.a.createElement(p.d,{mt:4,justifyContent:"flex-end"},o.a.createElement(p.b,{size:"medium",onClick:this.getNumber},"Get Number")))),o.a.createElement(p.c,{width:"400px",mx:"auto",px:4},o.a.createElement(p.a,null,o.a.createElement(y,{transactionList:this.state.transactionList}))),o.a.createElement(p.c,{width:"400px",mx:"auto",px:4},o.a.createElement(p.a,null,o.a.createElement(p.b,{mb:3,onClick:function(t){return window.childComponent.addMessage(t)}},'"addMessage"'),o.a.createElement("br",null),o.a.createElement(p.b,{onClick:function(t){return window.childComponent.removeMessage()}},'"removeMessage"'),o.a.createElement(p.h.Container,{ref:function(t){window.childComponent=t}})))))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[133,2,1]]]);
//# sourceMappingURL=main.58d1738c.chunk.js.map